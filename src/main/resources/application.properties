spring.application.name=demo

# PostgreSQL Database configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/PocketAccount
spring.datasource.username=PocketAccountDBUser
spring.datasource.password=admin
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# Use schema.sql for local dev (not Hibernate auto-DDL)
spring.jpa.hibernate.ddl-auto=none

# Schema initialization - runs schema.sql on startup for local/dev
spring.sql.init.mode=always
spring.sql.init.platform=postgres

# Flyway
spring.flyway.enabled=false
# File upload configuration
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# Server configuration
server.port=8080
server.servlet.context-path=/

# OCR Configuration
# Path to Tesseract tessdata directory (leave empty to use default)
# ocr.tesseract.datapath=/usr/local/share/tessdata
# Supported languages (use + to combine: eng+nor)
ocr.tesseract.language=eng+nor
# DPI for PDF to image conversion (higher = better quality but slower)
ocr.dpi=300

# Composite Extractor Fallback Configuration
# Minimum text length to consider PDFBox extraction successful
ocr.fallback.min-text-length=100
# Minimum number of lines to consider PDFBox extraction successful
ocr.fallback.min-lines=5
# Minimum average characters per line
ocr.fallback.min-char-per-line=10

# OpenAI Configuration
# Set your OpenAI API key (get from https://platform.openai.com/api-keys)
# Use environment variable: export OPENAI_API_KEY=sk-your-key-here
openai.api.key=${OPENAI_API_KEY:}
openai.enabled=${OPENAI_ENABLED:false}
openai.model=${OPENAI_MODEL:gpt-4o}

# Interpretation defaults
interpretation.default-language-hint=nb

# Swagger / OpenAPI Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha

#Debug logging
logging.level.com.frnholding.pocketaccount.interpretation.infra.OcrTextExtractor=DEBUG